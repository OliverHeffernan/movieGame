(function(){"use strict";var e={9967:function(e,t,n){var o=n(5130),r=(n(4114),n(6768)),i=n(4232),s=n(144);const a={class:"vertContainer"},l={class:"vert"},u=["src"],c=["src"],h={id:"hintsContainer",class:"hintsContainer"},d={id:"hints",class:"hints"};var f={__name:"MovieContainer",props:["index","movie","credits"],setup(e){const t=e;let n=w(t.credits),f=(0,s.KR)(0),p=!1,v=(0,s.KR)(!0);const g=(0,s.KR)(""),m=(0,s.KR)([]);function w(e){let t="";for(let n=0;n<e.crew.length;n++)if("Director"==e.crew[n].job||"Directing"==e.crew[n].known_for_department){t=e.crew[n].name;break}return t}function k(){v.value=!1}function b(){v.value=!0}function y(e){let t=String(e).replace(/[^\w\s]/g,"").toLowerCase();const n=["and","the","a","of"];return n.forEach((e=>{t.replaceAll(" "+e," ",""),t.startsWith(e+" ")&&(t=t.substring(e.length+1))})),t}function _(){const e=g.value;g.value="",f.value>=6||p||(f.value++,y(e)==y(t.movie.title)||e.toLowerCase()==t.movie.title.toLowerCase()?(T(e+" is correct!!"),p=!0):R(f.value,e))}function C(e){return"https://image.tmdb.org/t/p/w600_and_h900_bestv2/"+e.poster_path}function L(e){return 1==e?"It has actor "+t.credits.cast[2].name+" in it.":2==e?"The movie was released on "+t.movie.release_date:3==e?"The director is "+n:4==e?"It also has actor "+t.credits.cast[1].name+" in it.":5==e?"It also has the actor "+t.credits.cast[0].name+" in it.":void 0}function R(e,n){6==e?T("‚ùå "+n+". The answer is "+t.movie.title):e<6&&T("‚ùå "+n+".üí° "+L(e))}function T(e){m.value.push(e)}return(n,w)=>((0,r.uX)(),(0,r.CE)("div",a,[(0,r.Lk)("div",l,[(0,r.Lk)("img",{src:C(e.movie),class:"moviePosterBlurredBg",alt:""},null,8,u),(0,r.Lk)("div",{id:"imgContainer",onMousedown:w[0]||(w[0]=e=>k()),onMouseup:w[1]||(w[1]=e=>b()),onTouchstart:w[2]||(w[2]=e=>k()),onTouchend:w[3]||(w[3]=e=>b())},[(0,r.Lk)("img",{src:C(t.movie),id:"moviePoster",class:(0,i.C4)((0,s.R1)(p)?"":"guess"+(0,s.R1)(f)),alt:""},null,10,c)],32),(0,r.Lk)("div",{id:"guessBox",class:(0,i.C4)((0,s.R1)(v)?"open":"closed")},[(0,r.Lk)("button",{id:"guessButton",onClick:_},(0,i.v_)(""==g.value?"Skip for hint":"Guess")+" ("+(0,i.v_)((0,s.R1)(f))+"/6) ",1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":w[4]||(w[4]=e=>g.value=e),name:"guessInput",placeholder:"Guess the movie",type:"text",id:"guessInput",onKeyup:w[5]||(w[5]=(0,o.jR)((e=>_()),["enter"]))},null,544),[[o.Jo,g.value]]),(0,r.Lk)("div",h,[(0,r.Lk)("div",d,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.value,((e,t)=>((0,r.uX)(),(0,r.CE)("p",{key:t},(0,i.v_)(e),1)))),128))])])],2)])]))}};const p=f;var v=p,g={__name:"TutInfo",setup(e){const t=(0,s.KR)(!0);function n(){t.value=!1}return(e,o)=>((0,r.uX)(),(0,r.CE)("div",{id:"tut",class:(0,i.C4)(t.value?"open":"closed")},[o[0]||(o[0]=(0,r.Lk)("ul",null,[(0,r.Lk)("li",null,"Enter your guess in the input field at the bottom of the screen."),(0,r.Lk)("li",null,"You will get a hint after every guess. And the poster will become less blurred."),(0,r.Lk)("li",null,'If you have no clue you can press the "skip for hint" button, to sip this guess and get a hint.'),(0,r.Lk)("li",null,"You have a maximum of 6 guesses.")],-1)),(0,r.Lk)("button",{onClick:n},"Let's Go!")],2))}},m=n(1241);const w=(0,m.A)(g,[["__scopeId","data-v-0016549c"]]);var k=w;const b={id:"blob"};var y={__name:"LoadingScren",props:["open"],setup(e){function t(e,t){const n=Math.ceil(Math.min(e,t)),o=Math.floor(Math.max(e,t));return Math.floor(Math.random()*(o-n+1))+n}const n=["Warming up the Oscars‚Ä¶ for your performance.","Cue the dramatic music‚Ä¶ loading in progress.","Casting you as the lead role‚Ä¶ of this guessing game.","Loading the trivia‚Ä¶ may the film gods be with you.","Loading like a movie sequel no one asked for.","Trying to remember that actor‚Äôs name? Yeah, us too.","You‚Äôre the main character now. Don‚Äôt mess it up.","Movie knowledge loading... please stand by for greatness.","If this takes too long, blame the CGI.","This loading screen has better pacing than some films.","This is the way.","I am Groot.","One does not simply‚Ä¶ skip this loading screen.","To infinity... and beyon-wait, still loading.","The name's Screen, Loading Screen."];return console.log(n[0]),(o,s)=>((0,r.uX)(),(0,r.CE)("div",{id:"load",class:(0,i.C4)(e.open?"open":"closed")},[(0,r.Lk)("div",b,[s[0]||(s[0]=(0,r.Lk)("i",{class:"fa-solid fa-spinner"},null,-1)),(0,r.Lk)("h4",null,(0,i.v_)(n[t(0,n.length-1)]),1)])],2))}};const _=(0,m.A)(y,[["__scopeId","data-v-1a349605"]]);var C=_,L={__name:"App",setup(e){let t=[];const n=(0,s.KR)([]);let o=0,i=!1;async function a(){if(0==t.length){const e=await h();t=e.results}let e=c(0,t.length-1),o=t[e];if(t.splice(e,1),0==t.length){const e=await h();t=e.results}while(null==o||0==o.success||o.adult||null==o.poster_path||"en"!=o.original_language||o.vote_count<1500||parseInt(o.release_date.split("-")[0])<1965)if(e=c(0,t.length),o=t[e],t.splice(e,1),0==t.length){const e=await h();t=e.results}let r=await d(o.id);while("ERROR"==r)r=await d(o.id);n.value.push({movie:o,credits:r})}async function l(){console.log("scrolling",o),0!=o||i||(await a(),o++,setTimeout((()=>{o--}),2e3))}async function u(){console.log("fetching"),i=!0;try{const e=new AbortController,t=5e3,n=setTimeout((()=>e.abort()),t),o=await fetch("https://settling-donkey-brightly.ngrok-free.app/movie",{method:"GET",signal:e.signal,headers:{"ngrok-skip-browser-warning":"true"}});if(clearTimeout(n),!o.ok)throw new Error(`HTTP error! Status: ${o.status}`);const r=await o.text();return i=!1,JSON.parse(r.substring(8))}catch(e){return console.error("Error fetching result:",e),i=!1,"ERROR"}}function c(e,t){const n=Math.ceil(Math.min(e,t)),o=Math.floor(Math.max(e,t));return Math.floor(Math.random()*(o-n+1))+n}async function h(){let e=await u();while("ERROR"===e||!e||"object"!==typeof e||!Array.isArray(e.results))console.warn("getPage: retrying due to invalid data",e),e=await u();return e}async function d(e){try{const t=await fetch("https://settling-donkey-brightly.ngrok-free.app/credits/"+e,{method:"GET",headers:{"ngrok-skip-browser-warning":"true"}});if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const n=await t.text();return JSON.parse(n.substring(8))}catch(t){return"ERROR"}}return(0,r.sV)((async()=>{const e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`);for(let t=0;t<10;t++)await a()})),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{id:"phoneContainer",onScroll:l},[(0,r.bF)(k),(0,r.bF)(C,{open:0==n.value.length},null,8,["open"]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.value,((e,t)=>((0,r.uX)(),(0,r.Wv)(v,{key:t,index:t-1,movie:e.movie,credits:e.credits},null,8,["index","movie","credits"])))),128))],32))}};const R=L;var T=R;(0,o.Ef)(T).mount("#app")}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,o,r,i){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],r=e[c][1],i=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((function(e){return n.O[e](o[l])}))?o.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(c--,1);var u=r();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var r,i,s=o[0],a=o[1],l=o[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var c=l(n)}for(t&&t(o);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},o=self["webpackChunkmovie_game"]=self["webpackChunkmovie_game"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(9967)}));o=n.O(o)})();
//# sourceMappingURL=app.4a8cfde6.js.map